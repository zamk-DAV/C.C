# Notion 연동 가이드

Dear23 앱은 사용자의 Notion 데이터베이스를 직접 연동하여 일기, 캘린더, 우편함, 추억 피드를 생성합니다.
두 파트너가 **각자 자신의 Notion 데이터베이스**를 연결해야 합니다.

## 1. Notion 통합 생성 (API Key 발급)
1. [Notion 내 통합 페이지](https://www.notion.so/my-integrations)로 이동합니다.
2. **'새 통합 만들기'**를 클릭합니다.
3. 이름(예: `Dear23 App`)을 입력하고 저장합니다.
4. **'프릿빗 API 통합 시크릿 키'** (예: `secret_...`)를 복사합니다.

## 2. 데이터베이스 준비
Notion에서 새로운 '데이터베이스(표)'를 만들거나 기존 것을 사용합니다.
**⚠️ 중요:** 앱이 데이터를 읽기 위해 아래 **속성(Property)**들이 반드시 존재해야 합니다. (이름이 정확해야 합니다!)

| 속성 이름 (필수) | 속성 유형 (Type) | 설명 |
| :--- | :--- | :--- |
| **이름** (또는 Name, title) | `제목` | 글의 제목입니다. |
| **날짜** (또는 Date) | `날짜` | 기록 날짜입니다. (캘린더/정렬용) |
| **dear23_type** | `선택` (Select) | **옵션**: `Diary` (일기), `Event` (일정), `Letter` (편지) |
| **dear23_대표이미지** | `파일 및 미디어` | 피드와 리스트에 표시될 대표 사진입니다. |
| **dear23_내용미리보기** | `텍스트` | 리스트에 표시될 짧은 미리보기 글입니다. |
| **dear23_sender** | `선택` (Select) | (우편함용) 보낸 사람 이름/별명 |
| **dear23_isRead** | `체크박스` | (우편함용) 상대방 수신 확인용 |

## 3. 데이터베이스 연결
1. 만든 데이터베이스 페이지 우측 상단 `...` 클릭 -> `연결(Connections)` -> 위에서 만든 통합(`Dear23 App`) 추가.
2. 데이터베이스 페이지의 **URL 복사** 후, `데이터베이스 ID` 추출.
   - 예: `https://www.notion.so/myworkspace/a8aec43384f447ed84390e8e42c2e089?v=...`
   - ID: `a8aec43384f447ed84390e8e42c2e089` (32자)

## 4. 앱 설정
1. Dear23 앱 **설정 > Notion Configuration** 메뉴로 이동합니다.
2. 발급받은 **API Key**와 **Database ID**를 입력하고 저장합니다.
